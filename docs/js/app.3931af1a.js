webpackJsonp([1],{"+VGo":function(e,t){},0:function(e,t,r){e.exports=r("NHnr")},"7zck":function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("/5sW"),a=r("3EgV"),s=r.n(a),i=(r("gJtD"),r("7zck"),r("EuXz"),r("VjuZ"),r("R+RE")),c=r.n(i),l={name:"Index",data:function(){return{windowSize:{x:window.innerWidth,y:window.innerHeight},format:"ass",source:"",filename:"",snackbar:{show:!1,text:""},dialog:!1}},computed:{result:function(){var e=this.format,t=this.source;return"srt"===e?t.replace(/(\d+:?){3},\d+ --> (\d+:?){3},\d?/g,"").replace(/\d+\s*\n/g,"").replace(/{\\an.*}/g,"").replace(/{\\pos.*}/g,""):"ass"===e?t.replace(/[^]*\[Events\]\s*/,"").replace(/Format:.*\s*/,"").replace(/Dialogue.*,,(.*p0})?/g,"\n").replace(/{.*?}/g,"").replace(/\\N/g,"\n").replace(/(\s*\n){3,}/g,"\n\n"):t}},mounted:function(){var e=this;this.$nextTick(function(){new c.a,console.log(e.$parent),e.$refs.source.addEventListener("scroll",e.scrollSync),e.$refs.result.addEventListener("scroll",e.scrollSync)})},methods:{resizeHandler:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},switchFormat:function(){this.format="ass"===this.format?"srt":"ass"},dropFile:function(e){var t=e.dataTransfer.files[0],r=new FileReader;r.onload=this.getSourceFromFile,r.readAsText(t),this.format=t.name.replace(/.*\./,""),this.filename=t.name.replace(".".concat(this.format),".txt"),this.snackbar={show:!0,text:"字幕导入成功"}},getSourceFromFile:function(e){this.source=e.target.result},downFile:function(){if(this.filename){var e=document.createElement("a");e.download=this.filename,e.style.display="none";var t=new Blob([this.result.replace(/\r?\n/g,"\r\n")]);e.href=URL.createObjectURL(t),document.body.appendChild(e),e.click(),document.body.removeChild(e),this.dialog=!1,this.snackbar={show:!0,text:"文本导出成功"}}else this.snackbar={show:!0,text:"请输入文件名"}},scrollSync:function(e){var t=this;clearTimeout(n);var r=e.target,o=r.scrollTop,a=r.scrollHeight,s=o/a,i=this.$refs,c=i.source,l=i.result,d=e.target===c?l:c;d.removeEventListener("scroll",this.scrollSync),d.scrollTop=d.scrollHeight*s,n=setTimeout(function(){d.addEventListener("scroll",t.scrollSync)},300)}}},d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{directives:[{name:"resize",rawName:"v-resize",value:e.resizeHandler,expression:"resizeHandler"}]},[r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-toolbar-title",{staticClass:"white--text"},[e._v("字幕转文本工具")]),r("v-spacer"),r("v-btn",{attrs:{icon:"",dark:"",disabled:""}},[e._v(e._s(e.format))]),r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.switchFormat}},[r("v-icon",[e._v("swap_horiz")])],1),r("a",{attrs:{href:"https://github.com/F-loat/caption2text",target:"_blank"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:e.switchFormat}},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 16 16",version:"1.1",width:"24","aria-hidden":"true"}},[r("path",{attrs:{"fill-rule":"evenodd",fill:"#fff",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"}})])])],1)],1),r("div",{staticClass:"main",on:{drop:function(t){return t.preventDefault(),e.dropFile(t)}}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.source,expression:"source"}],ref:"source",staticClass:"source",attrs:{placeholder:"支持文件拖入"},domProps:{value:e.source},on:{input:function(t){t.target.composing||(e.source=t.target.value)}}}),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.result,expression:"result"}],ref:"result",staticClass:"result",attrs:{placeholder:"支持文本导出"},domProps:{value:e.result},on:{input:function(t){t.target.composing||(e.result=t.target.value)}}})]),r("v-btn",{attrs:{color:"secondary",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[r("v-icon",[e._v("get_app")])],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[e._v("导出文本")]),r("v-card-text",[r("v-text-field",{attrs:{label:"文件名"},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v("取消")]),r("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){return t.stopPropagation(),e.downFile(t)}}},[e._v("下载")])],1)],1)],1),r("v-snackbar",{attrs:{timeout:2e3,top:e.windowSize.x>=600,bottom:e.windowSize.x<600},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v("\n    "+e._s(e.snackbar.text)+"\n    "),r("v-btn",{attrs:{flat:"",color:"secondary"},nativeOn:{click:function(t){e.snackbar.show=!1}}},[e._v("Close")])],1)],1)},u=[],f=r("XyMi");function p(e){r("Qcdr")}var v=!1,m=p,h="data-v-9320f196",g=null,w=Object(f["a"])(l,d,u,v,m,h,g),b=w.exports,x={name:"app",components:{Index:b}},k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Index")},y=[];function _(e){r("+VGo")}var F=!1,z=_,E=null,S=null,C=Object(f["a"])(x,k,y,F,z,E,S),H=C.exports,$=r("ydGU");Object($["a"])("".concat("/caption2text/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),o["a"].config.productionTip=!1,o["a"].use(s.a,{theme:{primary:"#474a4f",secondary:"#ff5252"}}),new o["a"]({render:function(e){return e(H)}}).$mount("#app")},Qcdr:function(e,t){},gJtD:function(e,t){}},[0]);